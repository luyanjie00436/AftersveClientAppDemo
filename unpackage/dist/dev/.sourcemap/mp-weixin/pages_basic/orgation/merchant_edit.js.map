{"version":3,"sources":["uni-app:///main.js","webpack:///D:/MyRepository/App/Uni-App/AftersveClientApp/pages_basic/orgation/merchant_edit.vue?7b5c","webpack:///D:/MyRepository/App/Uni-App/AftersveClientApp/pages_basic/orgation/merchant_edit.vue?80d7","webpack:///D:/MyRepository/App/Uni-App/AftersveClientApp/pages_basic/orgation/merchant_edit.vue?853a","webpack:///D:/MyRepository/App/Uni-App/AftersveClientApp/pages_basic/orgation/merchant_edit.vue?d36b","uni-app:///pages_basic/orgation/merchant_edit.vue","webpack:///D:/MyRepository/App/Uni-App/AftersveClientApp/pages_basic/orgation/merchant_edit.vue?dfd6","webpack:///D:/MyRepository/App/Uni-App/AftersveClientApp/pages_basic/orgation/merchant_edit.vue?8971"],"names":["createPage","Page"],"mappings":"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,GA/GA;AAgHA;AACA;AACA;AACA,gBADA;AAEA;AACA;AACA;AACA,wCADA,CACA;AACA,uCAFA,CAEA;AACA;AACA;AACA;AACA;AACA,OAXA,EAFA;;AAeA;AACA;AACA;AACA,KAlBA;AAmBA;AACA;AACA;AACA,KAtBA,EAhHA;;AAwIA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;;;AAGA;AACA;AACA,KAZA,EAxIA;;AAsJA;AACA,yCADA,CACA;AACA,GAxJA;AAyJA;AACA;AACA;AACA;AACA,GA7JA;AA8JA;AACA;AACA;;;AAGA;AACA,sFADA,CACA;AACA,KAPA;AAQA;;;AAGA;AACA,sCADA,CACA;AACA,0CAFA,CAEA;AACA;AACA;AACA;AACA;AACA,SAHA;;AAKA;AACA;AACA;AACA;AACA,SAHA;;;AAMA,KA3BA;AA4BA;;;AAGA;AACA;AACA;AACA,sBADA;AAEA,wBAFA;AAGA,0BAHA;AAIA,qBAJA,EADA;;AAOA;AACA;AACA,SATA;;AAWA,KA3CA;AA4CA;;;AAGA;AACA;AACA;AACA,sBADA,EADA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA,SAZA;;AAcA,KA9DA;AA+DA;AACA;;;AAGA;AACA;AACA,KArEA;AAsEA;;;AAGA;AACA;AACA,gBADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA,4BADA;AAEA,wBAFA;;AAIA,SAbA;;AAeA,KAzFA;AA0FA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAlGA;AAmGA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KA3GA;AA4GA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAtHA;AAuHA;;;AAGA;AACA;AACA,UADA,CACA;AACA;AACA,4CADA;AAEA,gDAFA;AAGA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA,+CADA,CACA;AACA;AACA;AACA,WAXA;;AAaA,OAfA;AAgBA,WAhBA,CAgBA;AACA;AACA;AACA,yCADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA,OA1BA;AA2BA,KAtJA;AAuJA;;;AAGA;AACA;AACA,qCADA;AAEA,yCAFA;AAGA;AACA;AACA;AACA,gCADA;AAEA;AACA;AACA,yDADA;;AAGA,eANA;AAOA;AACA;AACA;AACA;AACA,0DADA;;AAGA;AACA;AACA;AACA;AACA,4CAFA;;AAIA,mBALA,EAKA,IALA;AAMA;AACA;AACA;AACA,qDADA;AAEA,8BAFA;;AAIA,eA1BA;AA2BA;AACA;AACA;AACA,sDADA;AAEA,8BAFA;;AAIA,eAjCA;;;AAoCA;AACA,SA1CA;;;AA6CA,KAxMA;AAyMA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBARA;;AAUA,KAvNA;AAwNA;AACA;;;;AAIA,eA7NA,uBA6NA,KA7NA,EA6NA;AACA;AACA,iBADA;AAEA;AACA;AACA,mDADA;;AAGA,SANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCADA;AAEA,wBAFA;;AAIA,SArCA;AAsCA;AACA;AACA,SAxCA;;AA0CA,KAxQA;AAyQA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,mCAFA;AAGA,qCAHA,EADA;;AAMA;AACA;AACA;AACA;AACA;AACA,SAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAxBA;AAyBA;AACA;AACA,SA3BA;;AA6BA,KA9SA;AA+SA;;;AAGA;AACA;AACA,yBADA;AAEA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA,SARA;AASA;AACA;AACA,SAXA;;AAaA,KAhUA;AAiUA;;;AAGA;AACA;AACA,kBADA;AAEA;AACA;AACA,mDADA;;AAGA,SANA;AAOA;AACA;AACA;AACA;AACA;AACA,kDADA;;AAGA,WALA,MAKA;AACA;AACA,+CADA;AAEA,0BAFA;;AAIA;AACA,SApBA;AAqBA;AACA;AACA;AACA,gDADA;AAEA,wBAFA;;AAIA,SA3BA;;AA6BA,KAlWA;AAmWA;;;AAGA;AACA;AACA,oBADA;AAEA;AACA;AACA,mDADA;;AAGA,SANA;AAOA;AACA;AACA;AACA;AACA,oDADA;;AAGA,WAJA,MAIA;AACA;AACA,iDADA;AAEA,0BAFA;;AAIA;AACA,SAnBA;AAoBA;AACA;AACA;AACA,gDADA;AAEA,wBAFA;;AAIA,SA1BA;;AA4BA;;AAEA;AArYA,GA9JA,E;;;;;;;;;;;;;ACzNA;AAAA;AAAA;AAAA;AAA2zC,CAAgB,utCAAG,EAAC,C;;;;;;;;;;;ACA/0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_basic/orgation/merchant_edit.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages_basic/orgation/merchant_edit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./merchant_edit.vue?vue&type=template&id=86093966&scoped=true&\"\nvar renderjs\nimport script from \"./merchant_edit.vue?vue&type=script&lang=js&\"\nexport * from \"./merchant_edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./merchant_edit.vue?vue&type=style&index=0&id=86093966&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"86093966\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_basic/orgation/merchant_edit.vue\"\nexport default component.exports","export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./merchant_edit.vue?vue&type=template&id=86093966&scoped=true&\"","var components\ntry {\n  components = {\n    operatePermission: function() {\n      return import(\n        /* webpackChunkName: \"components/operate-permission/operate-permission\" */ \"@/components/operate-permission/operate-permission.vue\"\n      )\n    },\n    uniList: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list/uni-list\" */ \"@/uni_modules/uni-list/components/uni-list/uni-list.vue\"\n      )\n    },\n    uniListItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list-item/uni-list-item\" */ \"@/uni_modules/uni-list/components/uni-list-item/uni-list-item.vue\"\n      )\n    },\n    uniForms: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    luyjDataPicker: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/luyj-data-picker/components/luyj-data-picker/luyj-data-picker\" */ \"@/uni_modules/luyj-data-picker/components/luyj-data-picker/luyj-data-picker.vue\"\n      )\n    },\n    luyjSelectMultiple: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/luyj-select-multiple/components/luyj-select-multiple/luyj-select-multiple\" */ \"@/uni_modules/luyj-select-multiple/components/luyj-select-multiple/luyj-select-multiple.vue\"\n      )\n    },\n    bottomBtns: function() {\n      return import(\n        /* webpackChunkName: \"components/bottom-btns/bottom-btns\" */ \"@/components/bottom-btns/bottom-btns.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = Boolean(_vm.current.Logo) || _vm.current.Logo == \"string\"\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./merchant_edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./merchant_edit.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex flex-direction\">\r\n\t\t<!-- 判断操作权限 -->\r\n\t\t<operate-permission :MchId=\"current.TopMchId\" :BranchId=\"current.MchId\" @canDelete=\"canDeleteF\">\r\n\t\t</operate-permission>\r\n\t\t<!-- 判断操纵权限 -->\r\n\t\t<!-- 标题栏 -->\r\n\t\t<cu-custom bgColor=\"bg-cyan\" :isBack=\"preview\">\r\n\t\t\t<block slot=\"content\">{{i18n_merchant.nameBasic }}</block>\r\n\t\t</cu-custom>\r\n\t\t<!-- 当前组织/门店列表 -->\r\n\t\t<uni-list>\r\n\t\t\t<uni-list-item\r\n\t\t\t\t:thumb=\"Boolean(current.Logo) || current.Logo == 'string' ? organ_default: current.Logo\"\r\n\t\t\t\tthumbSize=\"lg\" clickable @click=\"changeLogo\">\r\n\t\t\t\t<template slot=\"body\">\r\n\t\t\t\t\t<view class=\" cf \">\r\n\t\t\t\t\t\t<view class=\"fl text-lg text-bold padding-top-xs\">\r\n\t\t\t\t\t\t\t{{ current.Name }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-sm fr cu-tag bg-cyan light margin-left text-cut\">\r\n\t\t\t\t\t\t\t{{ current.ParentId ?  i18n_merchant.nameBranch  : i18n_merchant.name }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text-bold text-cut text-lg\"></view>\r\n\t\t\t\t\t<view class=\"text-sm text-cut text-grey\">{{ i18n_merchant.linkTel }}：{{ current.LinkTel }}</view>\r\n\t\t\t\t</template>\r\n\t\t\t</uni-list-item>\r\n\t\t</uni-list>\r\n\r\n\t\t<!-- 编辑组织信息 -->\r\n\t\t<uni-forms :rules=\"rules\" :value=\"current\" ref=\"form\" validate-trigger=\"bind\" err-show-type=\"undertext\">\r\n\t\t\t<!-- 基本信息 -->\r\n\t\t\t<uni-forms-item name=\"Name\">\r\n\t\t\t\t<!-- 名称 -->\r\n\t\t\t\t<view class=\"cu-form-group margin-top-sm solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tclass=\"margin-right-xs\">{{ isMerch ? i18n_merchant.merchant.name : i18n_merchant.branch.name }}</text>\r\n\t\t\t\t\t\t<text class=\"text-red\">*</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<input class=\"item-right\" v-model=\"current.Name\"\r\n\t\t\t\t\t\t:placeholder=\"isMerch ?i18n_merchant.merchant.namePlaceholder :i18n_merchant.branch.namePlaceholder\"\r\n\t\t\t\t\t\t />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 名称 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item name=\"MchNo\">\r\n\t\t\t\t<!-- 组织编码 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\" :class=\"current.TopMchId ? '':'margin-top'\">\r\n\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tclass=\"margin-right-xs\">{{ isMerch ? i18n_merchant.merchant.mchNo : i18n_merchant.branch.mchNo }}</text>\r\n\t\t\t\t\t\t<text class=\"text-red\">*</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<input class=\"item-right\" v-model=\"current.MchNo\" \r\n\t\t\t\t\t\t:placeholder=\"isMerch ?i18n_merchant.merchant.mchNoPlaceholder :i18n_merchant.branch.mchNoPlaceholder\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 组织编码 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item v-if=\"!isMerch\" name=\"OrgId\">\r\n\t\t\t\t<!-- 所属部门 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.branch.org }}</view>\r\n\t\t\t\t\t<luyj-data-picker class=\"item-right\" v-model=\"current.OrgId\" :placeholder=\"i18n_merchant.branch.orgPlaceholder\"\r\n\t\t\t\t\t\t:border=\"false\" :preload=\"true\" :localdata=\"orgtree\"\r\n\t\t\t\t\t\t:popup-title=\"i18n_merchant.branch.orgTitle\" name=\"OrgId\">\r\n\t\t\t\t\t</luyj-data-picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 所属部门 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item name=\"Msg\">\r\n\t\t\t\t<!-- 描述 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\" name=\"Msg\">\r\n\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t<text class=\"margin-right-xs\">{{ i18n_merchant.msg }}</text>\r\n\t\t\t\t\t\t<text class=\"text-red\">*</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<textarea class=\"item-right\" v-model=\"current.Msg\" maxlength=\"-1\" auto-height\r\n\t\t\t\t\t\t:placeholder=\"i18n_merchant.msgPlaceholder\"></textarea>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 描述 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item v-if=\"isMerch\" name=\"IndustryId\">\r\n\t\t\t\t<!-- 行业 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.merchant.industry }}</view>\r\n\t\t\t\t\t<luyj-data-picker class=\"item-right\" v-model=\"current.IndustryId\"\r\n\t\t\t\t\t\t:placeholder=\"i18n_merchant.merchant.industryPlaceholder\" :border=\"false\"\r\n\t\t\t\t\t\t:preload=\"true\" :localdata=\"industry_list\" :popup-title=\"i18n_merchant.merchant.industryTitle\">\r\n\t\t\t\t\t</luyj-data-picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 行业 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item v-if=\"isMerch\" name=\"Type\">\r\n\t\t\t\t<!-- 商户类型 -->\r\n\t\t\t\t<view class=\"cu-form-group box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.merchant.types }}</view>\r\n\t\t\t\t\t<text class=\"text-grey\">{{typesName}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 商户类型 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<!-- 基本信息 -->\r\n\r\n\t\t\t<!-- 区域信息 -->\r\n\t\t\t<uni-forms-item name=\"Area\">\r\n\t\t\t\t<!-- 地区 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom margin-top-sm box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.area }}</view>\r\n\t\t\t\t\t<luyj-data-picker ref=\"area\" class=\"item-right\" :placeholder=\"i18n_merchant.areaPlaceholder\" \r\n\t\t\t\t\t\t:border=\"false\" :preload=\"true\" :localdata=\"area_list\" :value=\"areainit\"\r\n\t\t\t\t\t\t:popup-title=\"i18n_merchant.areaTitle\" @change=\"changeArea\" name=\"Area\"></luyj-data-picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 地区 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item name=\"Address\">\r\n\t\t\t\t<!-- 地址 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t<text class=\"margin-right-xs\">{{ i18n_merchant.address }}</text>\r\n\t\t\t\t\t\t<text class=\"text-red\">*</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<textarea class=\"item-right\" v-model=\"current.Address\" maxlength=\"-1\" auto-height\r\n\t\t\t\t\t\t:placeholder=\"i18n_merchant.addressPlaceholder\" name=\"Address\"></textarea>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 地址 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item class=\"PostCode\">\r\n\t\t\t\t<!-- 邮编 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.postCode }}</view>\r\n\t\t\t\t\t<input class=\"item-right\" :placeholder=\"i18n_merchant.postCodePlaceholder\" type=\"number\" maxlength=\"6\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 邮编 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<!-- 区域信息 -->\r\n\r\n\t\t\t<!-- 负责人信息 -->\r\n\t\t\t<uni-forms-item v-if=\"!isMerch\" name=\"Managers\">\r\n\t\t\t\t<!-- 负责人 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom margin-top-sm box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.branch.managers }}</view>\r\n\t\t\t\t\t<luyj-select-multiple v-if=\"staff_data_list.length > 0\" class=\"item-right\"\r\n\t\t\t\t\t\t:placeholder='i18n_merchant.branch.managersPlaceholder' :value=\"ManagerNames\"\r\n\t\t\t\t\t\t:binData=\"staff_data_list\" checkType=\"checkbox\" overflow=\"hide\" @getBackVal=\"getBackVal\"\r\n\t\t\t\t\t\t:selectIco=\"true\">\r\n\t\t\t\t\t</luyj-select-multiple>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 负责人 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item name=\"LinkMan\">\r\n\t\t\t\t<!-- 联系人 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.linkMan }}</view>\r\n\t\t\t\t\t<input class=\"item-right\" :placeholder=\"i18n_merchant.linkManPlaceholder\" v-model=\"current.LinkMan\" name=\"LinkMan\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 联系人 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item name=\"LinkTel\">\r\n\t\t\t\t<!-- 联系人电话 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.linkTel }}</view>\r\n\t\t\t\t\t<input class=\"item-right\" v-model=\"current.LinkTel\" :placeholder=\"i18n_merchant.linkTelPlaceholder\" name=\"LinkTel\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 联系人电话 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<!-- 负责人信息 -->\r\n\r\n\t\t\t<!-- 其他 -->\r\n\t\t\t<uni-forms-item v-if=\"isMerch\" name=\"LegalPerson\">\r\n\t\t\t\t<!-- 法人 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom margin-top-sm box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.merchant.legalPerson }}</view>\r\n\t\t\t\t\t<input class=\"item-right\" v-model=\"current.LegalPerson\" :placeholder=\"i18n_merchant.merchant.legalPersonPlaceholder\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 法人 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item v-if=\"isMerch\" name=\"BankName\">\r\n\t\t\t\t<!-- 开户行 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.merchant.bankName }}</view>\r\n\t\t\t\t\t<input class=\"item-right\" v-model=\"current.BankName\" :placeholder=\"i18n_merchant.merchant.bankNamePlaceholder\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 开户行 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<uni-forms-item v-if=\"isMerch\" name=\"BankAccount\">\r\n\t\t\t\t<!-- 开户账号 -->\r\n\t\t\t\t<view class=\"cu-form-group solid-bottom box\">\r\n\t\t\t\t\t<view class=\"item-left\">{{ i18n_merchant.merchant.bankAccount }}</view>\r\n\t\t\t\t\t<input class=\"item-right\" v-model=\"current.BankAccount\" type=\"number\"\r\n\t\t\t\t\t\t:placeholder=\"i18n_merchant.merchant.bankAccountPlaceholder\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 开户账号 -->\r\n\t\t\t</uni-forms-item>\r\n\t\t\t<!-- 其他 -->\r\n\t\t</uni-forms>\r\n\t\t<!-- 编辑和删除页-->\r\n\t\t<view v-if=\"false\" class=\"margin-lr margin-top padding round cu-btn bg-cyan\" @click=\"edit\">{{ i18n.button_edit }}\r\n\t\t</view>\r\n\t\t<view v-if=\"canDelete && false\" class=\"margin-lr margin-top padding round cu-btn bg-red\" @click=\"branchDelete\">\r\n\t\t\t{{ i18n.button_delete }}</view>\r\n\r\n\t\t<!-- 底部按钮 -->\r\n\t\t<bottom-btns :btns=\"canDelete ? btn_lists_canEdit : btn_lists\" @click=\"clickBottom\"></bottom-btns>\r\n\t\t<!-- 底部按钮 -->\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * 查看组织信息\r\n\t * @author 陆彦捷\r\n\t * @description 查看当前的组织或门店信息\r\n\t */\r\n\tvar _self;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 页面相关消息\r\n\t\t\t\tpreview: this.global.publicF.hasBack(), // 是否返回上一页\r\n\t\t\t\tpattern: this.global.params.fab_pattern,\r\n\t\t\t\tCustomBar: this.CustomBar, // 导航栏高度\r\n\t\t\t\tactiveColor: this.global.params.activeColor,\r\n\t\t\t\torgan_default: this.global.statics.organ.organ_default,\t// 组织对应图片\r\n\t\t\t\t// 系统相关消息\r\n\t\t\t\tcanDelete: false, // 是否可删除\r\n\t\t\t\tBranchID: 0, // 门店id\r\n\t\t\t\tcurrent: {\r\n\t\t\t\t\tMchId: 0, // 组织Id\r\n\t\t\t\t\tLogo: '', // 图标\r\n\t\t\t\t\tName: '', // 组织名称\r\n\t\t\t\t\tMchNo: '', // 组织编码\r\n\t\t\t\t\tMsg: '', // 组织信息描述\r\n\t\t\t\t\tIndustryId: '', // 行业\r\n\t\t\t\t\tIsCust: false, // 是否客户类型（类型组织）\r\n\t\t\t\t\tIsSup: false, // 是否服务商(类型组织)\r\n\t\t\t\t\tIsSvc: false, // 是否供应商（类型组织）\r\n\t\t\t\t\tOrgId: 0, // 所属部门id（类型：门店）\r\n\t\t\t\t\tTopMchId: 0, // 所属组织id\r\n\t\t\t\t\tStatus: '', // 状态\r\n\t\t\t\t\tAddress: '', // 地址\r\n\t\t\t\t\tArea1: 0, // 区域1\r\n\t\t\t\t\tArea2: 0, // 区域2\r\n\t\t\t\t\tArea3: 0, // 区域3\r\n\t\t\t\t\tManagers: null, // 负责人（类型门店,默认为空）\r\n\t\t\t\t\tLinkMan: '', // 联系人\r\n\t\t\t\t\tLinkTel: '', // 联系电话\r\n\t\t\t\t\tLegalPerson: '', // 法人\r\n\t\t\t\t\tBankName: '', // 开户行\r\n\t\t\t\t\tBankAccount: '', // 开户账号\r\n\r\n\t\t\t\t}, // 当前显示的组织门店信息\r\n\t\t\t\trules: {\r\n\t\t\t\t\tMchNo: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入代码'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tName: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入名称'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tMsg: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入描述信息'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tAddress: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入详细地址'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tIndustryId: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请选择所属行业'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tType: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请至少选择一种商户类型'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t}, // 验证\r\n\t\t\t\tlogoInt: null, // Logo的初始化值\r\n\t\t\t\tmainMch: {}, // 主企业信息\r\n\t\t\t\torgIndex: 1, // 查看门店信息的页码（默认为1）\r\n\t\t\t\torgPageSize: 10, // 默认每页条数（10）\r\n\t\t\t\torganization_list: [], // 当前企业所含门店的信息\r\n\t\t\t\tloadContentText: this.global.params.loadContentText,\r\n\t\t\t\torganStatus: 'more', // 当前门店\r\n\t\t\t\torgtree: [], // 当前企业的部门信息\r\n\t\t\t\tindustry_list: [], // 所有行业\r\n\t\t\t\trange: this.global.merchants.merType, // 商户类型列表\r\n\t\t\t\ttypes: [], // 商户类型列表\r\n\t\t\t\ttypesName: '', // 根据商户类型列表获取商户类型字符串\r\n\t\t\t\tarea_list: [], // 地区列表\r\n\t\t\t\tareainit: null, // 地区的初始值\r\n\t\t\t\tstaff_list: [], // 返回的员工信息，用于选择负责人\r\n\t\t\t\tstaff_data_list: [], // 经格式化的员工信息\r\n\t\t\t\tManagerNames: [], // 组织的名称\r\n\t\t\t\tbtn_lists: [{\r\n\t\t\t\t\tname: '保存',\r\n\t\t\t\t\ticon: 'cuIcon-edit',\r\n\t\t\t\t\tclickName :'save'\r\n\t\t\t\t}], // 按钮组\r\n\t\t\t\tbtn_lists_canEdit: [{\r\n\t\t\t\t\t\tname: '保存',\r\n\t\t\t\t\t\ticon: 'cuIcon-edit',\r\n\t\t\t\t\t\tclickName :'save'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '删除',\r\n\t\t\t\t\t\ticon: 'cuIcon-delete',\r\n\t\t\t\t\t\tclickName :'delete',\r\n\t\t\t\t\t\tcolor : '#FF0000'\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t] // 按钮组-管理员\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 当前值\r\n\t\t\tcurrent: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler: function(val, oldval) {\r\n\t\t\t\t\t// 顶部组织id\r\n\t\t\t\t\tif (val.TopMchId != oldval.MchId) {\r\n\t\t\t\t\t\tthis.getorgTree(val.TopMchId); // 获取部门树\r\n\t\t\t\t\t\tthis.getStaffs(val.TopMchId); // 获取员工信息\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (val.Managers != oldval.Managers) {\r\n\t\t\t\t\t\tthis.ManagerNames = this.global.merchantF.getManagesName(this.staff_list, val.Managers);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 员工信息列表\r\n\t\t\tstaff_list: function(val, oldval) {\r\n\t\t\t\tthis.ManagerNames = this.global.merchantF.getManagesName(val, this.current.Managers);\r\n\t\t\t},\r\n\t\t\t// 商户类型值修改\r\n\t\t\ttypes: function(val) {\r\n\t\t\t\tthis.typesName = this.global.merchantF.getTypesName(val);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ti18n: function() {\r\n\t\t\t\treturn this.$t('basic');\r\n\t\t\t},\r\n\t\t\ti18n_merchant: function() {\r\n\t\t\t\treturn this.$t('merchant');\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 判断是否为组织类型\r\n\t\t\t */\r\n\t\t\tisMerch: function() {\r\n\t\t\t\treturn this.current.TopMchId === this.current.MchId;\r\n\t\t\t},\r\n\t\t},\r\n\t\tonReady: function() {\r\n\t\t\tthis.$refs.form.setRules(this.rules); // 初始化加载验证\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\t_self = this;\r\n\t\t\tthis.getParams(options);\r\n\t\t\tthis.init();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// ======================================= 初始化方法 ==================================================\r\n\t\t\t/** 获取参考值\r\n\t\t\t * @param {Object} options\r\n\t\t\t */\r\n\t\t\tgetParams: function(options) {\r\n\t\t\t\tthis.BranchID = options.MchId ? options.MchId : this.global.organ.getBranchId(); // 组织id\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 初始化方法\r\n\t\t\t */\r\n\t\t\tinit: function() {\r\n\t\t\t\tthis.request_Org(this.BranchID); // 查询当前组织/门店\r\n\t\t\t\tthis.request_partOrg(this.BranchID); // 查询当前组织包含的门店\r\n\t\t\t\t// 请求所有行业\r\n\t\t\t\tthis.global.industryR.getTreesFormat({\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t_self.industry_list = data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// 请求所在地区\r\n\t\t\t\tthis.global.areaR.getTrees({\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t_self.area_list = data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t/** 获取部门树\r\n\t\t\t * @param {Object} mchId 组织id\r\n\t\t\t */\r\n\t\t\tgetorgTree: function(mchId) {\r\n\t\t\t\tthis.global.departmentR.getTrees({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmchId: mchId,\r\n\t\t\t\t\t\tloadMch: false,\r\n\t\t\t\t\t\tloadStaff: false,\r\n\t\t\t\t\t\tdataType: 1,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(datafull) {\r\n\t\t\t\t\t\t_self.orgtree = datafull;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 获取当前组织的员工信息\r\n\t\t\t * @param {Object} mchId 组织Id\r\n\t\t\t */\r\n\t\t\tgetStaffs: function(mchId) {\r\n\t\t\t\tthis.global.staffR.getAllList({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tmchId: mchId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t_self.staff_list = data;\r\n\t\t\t\t\t\t// 选择负责人格式化（暂时）\r\n\t\t\t\t\t\t_self.staff_data_list = JSON.parse(JSON.stringify(data));\r\n\t\t\t\t\t\t_self.staff_data_list.forEach(item => {\r\n\t\t\t\t\t\t\titem.id = item.StaffId;\r\n\t\t\t\t\t\t\titem.value = item.Name;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// ======================================= 监听事件 ==================================================\r\n\t\t\t/**判断是否可删除（组织的管理员）\r\n\t\t\t * @param {Object} data\r\n\t\t\t */\r\n\t\t\tcanDeleteF: function(data) {\r\n\t\t\t\tthis.canDelete = data;\r\n\t\t\t},\r\n\t\t\t/** 修改头像\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tchangeLogo: function(e) {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1, // 最多可选择图片张数\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\t// 直接修改本地预览\r\n\t\t\t\t\t\tif (result.tempFilePaths.length == 1) {\r\n\t\t\t\t\t\t\t_self.current.Logo = result.tempFilePaths[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(erros) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '选择图片失败！',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 修改商户类型\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tchangeType: function(e) {\r\n\t\t\t\tvar value = e.detail.value;\r\n\t\t\t\tthis.current.IsCust = value.indexOf(0) >= 0;\r\n\t\t\t\tthis.current.isSup = value.indexOf(1) >= 0;\r\n\t\t\t\tthis.current.isSvc = value.indexOf(2) >= 0;\r\n\t\t\t},\r\n\t\t\t/** 修改所在地区\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tchangeArea: function(e) {\r\n\t\t\t\tvar value = e.detail.value;\r\n\t\t\t\tthis.current.Area1 = value.length >= 1 ? value[0].value : null;\r\n\t\t\t\tthis.current.Area2 = value.length >= 2 ? value[1].value : null;\r\n\t\t\t\tthis.current.Area3 = value.length >= 3 ? value[2].value : null;\r\n\t\t\t},\r\n\t\t\t/**获取负责人\r\n\t\t\t * @param {Object} arr 选中的值数组\r\n\t\t\t */\r\n\t\t\tgetBackVal: function(arr) {\r\n\t\t\t\t// 转换为数组（临时, 需要将传出值做修改）\r\n\t\t\t\tthis.current.Managers = [];\r\n\t\t\t\tvar arrays = arr.slice(0, arr.length - 1).split(\",\");\r\n\t\t\t\tarrays.forEach((item, index) => {\r\n\t\t\t\t\tthis.current.Managers.push(parseInt(item.split(\"|\")[1]));\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 修改当前组织信息\r\n\t\t\t * @param {function} fail 验证失败后续操作\r\n\t\t\t */\r\n\t\t\tedit: function(failF = null) {\r\n\t\t\t\tthis.$refs['form'].submit()\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle:  _self.i18n.modal_save_title,\r\n\t\t\t\t\t\t\tcontent:_self.i18n.modal_save_content,\r\n\t\t\t\t\t\t\tsuccess:function(re){\r\n\t\t\t\t\t\t\t\tif(re.confirm){\r\n\t\t\t\t\t\t\t\t\tif (_self.logoInt != _self.current.Logo) {\r\n\t\t\t\t\t\t\t\t\t\t_self.updateMch_hasImg(_self.current);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t_self.updateMch(_self.current); // 更新组织信息、\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(errors => {\r\n\t\t\t\t\t\tif (errors.length > 0) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: errors[0].errorMessage,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (typeof(errors) === \"function\") {\r\n\t\t\t\t\t\t\tfailF(errors);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/** 删除组织、门店\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tbranchDelete: function(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: _self.i18n.deleteTitle,\r\n\t\t\t\t\tcontent: _self.i18n.deleteContent,\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tif (result.confirm) {\r\n\t\t\t\t\t\t\t_self.global.merchantR.deleteInfo({\r\n\t\t\t\t\t\t\t\tid: _self.BranchID,\r\n\t\t\t\t\t\t\t\tbefore: function() {\r\n\t\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\t\ttitle: _self.i18n.requestLoadingMessage\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tif (Boolean(data)) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: _self.i18n.deleteSuccessMessage\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t// 1.5s后跳转top主页\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages_basic/orgation/orgationdetail?MchId=' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_self.current.TopMchId\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: _self.i18n.deleteFailMessage,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: _self.i18n.requestFailMessage,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t/** 点击按钮时间\r\n\t\t\t * @param {String} name 要执行事件的名称\r\n\t\t\t */\r\n\t\t\tclickBottom: function(name) {\r\n\t\t\t\tswitch (name) {\r\n\t\t\t\t\tcase 'save':\r\n\t\t\t\t\t\tthis.edit();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'delete':\r\n\t\t\t\t\t\tthis.branchDelete();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// ======================================= 请求方法 ==================================================\r\n\t\t\t/**\r\n\t\t\t * 根据id查看组织/门店信息\r\n\t\t\t * @param {Number} MchId 组织id\r\n\t\t\t */\r\n\t\t\trequest_Org(MchId) {\r\n\t\t\t\tthis.global.merchantR.getDetail({\r\n\t\t\t\t\tid: MchId,\r\n\t\t\t\t\tbefore: function() {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: _self.i18n.requestLoadingMessage\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (Boolean(data)) {\r\n\t\t\t\t\t\t\t_self.current = data;\r\n\t\t\t\t\t\t\t// 初始化商户类型\r\n\t\t\t\t\t\t\tif (Boolean(data.IsCust)) {\r\n\t\t\t\t\t\t\t\t_self.types.push(0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (Boolean(data.IsSup)) {\r\n\t\t\t\t\t\t\t\t_self.types.push(1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (Boolean(data.IsSvc)) {\r\n\t\t\t\t\t\t\t\t_self.types.push(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (Boolean(data.Area3)) {\r\n\t\t\t\t\t\t\t\t_self.areainit = data.Area3;\r\n\t\t\t\t\t\t\t} else if (Boolean(data.Area2)) {\r\n\t\t\t\t\t\t\t\t_self.areainit = data.Area2;\r\n\t\t\t\t\t\t\t} else if (Boolean(data.Area1)) {\r\n\t\t\t\t\t\t\t\t_self.areainit = data.Area1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 部门Id改为字符串（为了配合部门tree）\r\n\t\t\t\t\t\t\t_self.current.OrgId = data.OrgId.toString();\r\n\t\t\t\t\t\t\t_self.logoInt = data.Logo;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: _self.i18n.noMessage,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 查看当前组织所包含的门店\r\n\t\t\t * @param {Object} MchId 组织Id\r\n\t\t\t */\r\n\t\t\trequest_partOrg: function(MchId) {\r\n\t\t\t\tif (this.organStatus != \"more\") {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// 获取组织信息\r\n\t\t\t\tthis.global.merchantR.getListPage({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttopMchId: MchId,\r\n\t\t\t\t\t\tpageIndex: _self.orgIndex,\r\n\t\t\t\t\t\tpageSize: _self.orgPageSize\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbefore: function() {\r\n\t\t\t\t\t\t_self.organStatus = \"loading\";\r\n\t\t\t\t\t\tif (_self.orgIndex === 1) {\r\n\t\t\t\t\t\t\t_self.organization_list = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tif (Boolean(data)) {\r\n\t\t\t\t\t\t\t_self.organization_list = _self.organization_list.concat(data);\r\n\t\t\t\t\t\t\tif (data.length >= _self.orgPageSize) {\r\n\t\t\t\t\t\t\t\t_self.organStatus = \"more\";\r\n\t\t\t\t\t\t\t\t_self.orgIndex++;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_self.organStatus = \"noMore\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_self.organStatus = \"noMore\";\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\t_self.organStatus = \"more\";\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/**更新当前组织信息-包括组织图片\r\n\t\t\t * @param {Object} data\r\n\t\t\t */\r\n\t\t\tupdateMch_hasImg: function(data) {\r\n\t\t\t\tthis.global.imgR.imgUpload({\r\n\t\t\t\t\timgUrl: data.Logo,\r\n\t\t\t\t\tsuccess: function(url) {\r\n\t\t\t\t\t\tdata.Logo = url;\r\n\t\t\t\t\t\t_self.logoInt = url;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tdata.Logo = _self.logoInt;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\t_self.updateMch(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 更新当前组织信息\r\n\t\t\t * @param {Object} data\r\n\t\t\t */\r\n\t\t\tupdateMch: function(data) {\r\n\t\t\t\tthis.global.merchantR.updateInfo({\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tbefore: function() {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: _self.i18n.requestLoadingMessage\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (Boolean(data)) {\r\n\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: _self.i18n.editSuccessMessage\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: _self.i18n.editFailMessage,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: _self.i18n.requestFailMessage,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t/** 删除当前组织请求\r\n\t\t\t * @param {Object} MchId 组织Id\r\n\t\t\t */\r\n\t\t\tdeleteMch_request: function(MchId) {\r\n\t\t\t\tthis.global.merchant.MchDelete_request({\r\n\t\t\t\t\tmchId: MchId,\r\n\t\t\t\t\tbefore: function() {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: _self.i18n.requestLoadingMessage\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (Boolean(data)) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: _self.i18n.deleteSuccessMessage\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: _self.i18n.deleteFailMessage,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: _self.i18n.requestFailMessage,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// ===============================================================================================================\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.page {\r\n\t\theight: calc(100vh -65px);\r\n\t}\r\n\t\r\n\t.box {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tfont-size: 28rpx;\r\n\t\t.item-left {\r\n\t\t\twidth: 160rpx;\r\n\t\t\ttext-align: justify;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t.item-right{\r\n\t\t\tflex:1;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./merchant_edit.vue?vue&type=style&index=0&id=86093966&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./merchant_edit.vue?vue&type=style&index=0&id=86093966&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1634820235039\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}