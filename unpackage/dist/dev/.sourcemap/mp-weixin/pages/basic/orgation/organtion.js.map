{"version":3,"sources":["uni-app:///main.js","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/basic/orgation/organtion.vue?8722","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/basic/orgation/organtion.vue?8534","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/basic/orgation/organtion.vue?010b","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/basic/orgation/organtion.vue?79cd","uni-app:///pages/basic/orgation/organtion.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8G;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;;;AAGxD;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAytB,CAAgB,yrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgD7uB,4G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPA;;;;;;GASA,U,eACA,EACA,IADA,kBACA,CACA,SACA;AACA,oBAFA,EAGA,kBAHA,EAGA;AACA,uBAJA,EAKA,WACA,gBADA,EACA;AACA,gCAFA,EAGA,uBAHA,EAIA,sBAJA,EALA,EAUA;AACA,gBACA,EACA,4CADA,EAEA,sDAFA,EAGA,YAHA,EAIA,YAJA,EADA,EAOA,EACA,sCADA,EAEA,gDAFA,EAGA,YAHA,EAIA,YAJA,EAPA,CAXA,EAwBA;AAEA,sBA1BA,EA0BA;AACA;AACA,2CA5BA,EA4BA;AACA,yCA7BA,EA6BA;AACA,kDA9BA,EA8BA;AACA,qBA/BA,EA+BA;AACA,cAhCA,EAgCA;AACA,cAjCA,EAiCA;AACA,wBAlCA,EAkCA;AACA,gBAnCA,EAmCA;AACA,mBApCA,EAoCA;AACA,mBArCA,EAqCA;AACA,4BAtCA,EAsCA;AACA,4BAvCA,CAuCA;AAvCA,MAyCA,CA3CA,EA4CA,kCACA,aACA,wBACA,wBACA,4CAJA,CAIA;AACA,GAjDA,EAkDA,WACA;AACA;;OAGA,wCACA,oEADA,CACA;AACA,wEACA,+CAHA,CAGA;AACA,2DAJA,CAIA;AACA,8DALA,CAKA;AACA,0FANA,CAMA;AACA,KAZA,EAaA;AACA;;OAGA,0BACA,eACA,yBADA,IAGA,CArBA,EAsBA;;mFAGA,+CACA,wCADA,CACA;AACA,KA3BA;AA4BA;;;AAGA;AACA;AACA,qBADA;AAEA,4BAFA;AAGA;AACA;AACA;AACA;AACA,SAPA;;AASA,KAzCA;AA0CA;;;AAGA;AACA;AACA;AACA;AACA,uCAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAVA;;AAYA,KA1DA;AA2DA;;;AAGA;AACA;AACA,KAhEA;AAiEA;;;AAGA;AACA;AACA,KAtEA;AAuEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KApFA;AAqFA;AACA;;;;;;;AAOA;AACA;AACA;AACA,gJADA;AAEA;AACA,gDADA,EAFA;;AAKA,qBALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA;AAiBA;AACA;AACA;AACA,SApBA;;AAsBA,KArHA;AAsHA;;;AAGA;AACA;AACA;AACA,mEADA;AAEA;AACA,gDADA,EAFA;;AAKA,sBALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA,SAnBA;AAoBA;AACA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA,SA3BA;;;AA8BA;AACA;AA1JA,GAlDA,E","file":"pages/basic/orgation/organtion.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/basic/orgation/organtion.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./organtion.vue?vue&type=template&id=3eece4be&\"\nvar renderjs\nimport script from \"./organtion.vue?vue&type=script&lang=js&\"\nexport * from \"./organtion.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/basic/orgation/organtion.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./organtion.vue?vue&type=template&id=3eece4be&\"","var components\ntry {\n  components = {\n    isLogin: function() {\n      return import(\n        /* webpackChunkName: \"components/is-login/is-login\" */ \"@/components/is-login/is-login.vue\"\n      )\n    },\n    uniList: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list/uni-list\" */ \"@/uni_modules/uni-list/components/uni-list/uni-list.vue\"\n      )\n    },\n    uniListItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list-item/uni-list-item\" */ \"@/uni_modules/uni-list/components/uni-list-item/uni-list-item.vue\"\n      )\n    },\n    uniFab: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-fab/components/uni-fab/uni-fab\" */ \"@/uni_modules/uni-fab/components/uni-fab/uni-fab.vue\"\n      )\n    },\n    organDepartment: function() {\n      return import(\n        /* webpackChunkName: \"components/organ-department/organ-department\" */ \"@/components/organ-department/organ-department.vue\"\n      )\n    },\n    organInvte: function() {\n      return import(\n        /* webpackChunkName: \"components/organ-invte/organ-invte\" */ \"@/components/organ-invte/organ-invte.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./organtion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./organtion.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex flex-direction\">\r\n\t\t<is-login v-if=\"isLoginShow\" currentPage=\"index\" :forceIndex=\"forceIndex\"></is-login>\r\n\t\t<cu-custom bgColor=\"bg-cyan\" :isBack=\"true\">\r\n\t\t\t <block slot=\"backText\" class=\"flex justify-start\">\r\n\t\t\t\t <view class=\"padding-right\">返回</view>\r\n\t\t\t\t <view class=\"padding-right \" @tap.stop=\"\" @tap=\"close\">关闭</view>\r\n\t\t\t </block>\r\n\t\t\t<block slot=\"content\">{{currentOrgName}}</block>\r\n\t\t</cu-custom>\r\n\t\t<!-- 搜索框 -->\r\n\t\t<organtion-search v-if=\"false\"></organtion-search>\r\n\t\t<!-- 组织架构导航表 -->\r\n\t\t<organtion-nav v-if=\"false\"></organtion-nav>\r\n\t\t<uni-list>\r\n\t\t\t<uni-list-item showArrow v-for=\"(item,index) in currentList\" :key=\"index\" \r\n\t\t\t:title=\"(item.Name?item.Name :'') + (item.Type != 'Staff' ? '(' + item.Count + ')':'')\" :thumb=\"item.Type == 'Staff' ? item.Icon : null \"  thumbSize=\"lg\"\r\n\t\t\t:to=\"item.Type != 'Staff' ?'/pages/basic/orgation/organtion?preview=true&type=' + item.Type + '&value=' + item.Value + '&Name=' + item.Name:'/pages/basic/staff/staffdetail?StaffId=' + item.Value + '&preview=true'\" >\r\n\t\t\t<template  slot=\"footer\"  class=\"flex  padding-top justify-center\" @tap.stop=\"\">\r\n\t\t\t\t<template v-if=\"item.Type == 'Organization' \" >\r\n\t\t\t\t\t<view class=\"cu-tag round bg-blue light \" @click=\"editDepartment(item)\" >编辑</view>\r\n\t\t\t\t\t<view class=\"cu-tag round bg-red light \" @click=\"deleteDepartment(item)\" >删除</view>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t\t</uni-list-item>\r\n\t\t</uni-list>\r\n\t\t\r\n\t\t<!-- 悬浮按钮 -->\r\n\t\t<uni-fab ref=\"fab\" :pattern=\"pattern\" :content=\"content\" horizontal=\"left\" vertical=\"bottom\"\r\n\t\t\tdirection=\"horizontal\" @trigger=\"trigger\" />\r\n\t\t<!-- 弹出框（添加/编辑部门） -->\r\n\t\t<view v-if=\"showdepartmentM\">\r\n\t\t<organ-department :MchId=\"MchId\" :Token=\"Token\" @show=\"showModalDepartment\" :orgId=\"clickOrgId\" :isEdit=\"isEdit\" \r\n\t\t :refresh=\"fullOrg_request\" :type=\"type\" :value=\"value\"></organ-department>\r\n\t\t</view>\r\n\t\t<!-- 弹出框（邀请新成员） -->\r\n\t\t<organ-invte :MchId=\"MchId\" :Token=\"Token\" :UserId=\"UserId\" :orgId=\"value\" @show=\"showModal\"></organ-invte>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * 查看组织架构\r\n\t * @author 陆彦捷\r\n\t * @date 2021.06.22\r\n\t * @date 2021.07.23 重新引用login\r\n\t * @description  排序方式：部门、区域、门店（先不考虑）\r\n\t */\r\n\timport organ from '@/common/storage/organstorage.js'\r\n\t\r\n\tvar _self;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 样式展示\r\n\t\t\t\tpreview : false,\r\n\t\t\t\tisLoginShow: false,\t\t// 是否登录\r\n\t\t\t\tforceIndex : false,\r\n\t\t\t\tpattern: {\r\n\t\t\t\t\tcolor: '#7A7E83', // 文字默认颜色\r\n\t\t\t\t\tselectedColor: '#00BEB7',\r\n\t\t\t\t\tbackgroundColor: '#fff',\r\n\t\t\t\t\tbuttonColor: '#00BEB7'\r\n\t\t\t\t}, // 可选配置项样式（悬浮按钮）\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonPath: '/static/fabIcon/organization.png',\r\n\t\t\t\t\t\tselectedIconPath: '/static/fabIcon/organizationHL.png',\r\n\t\t\t\t\t\ttext: '添加部门',\r\n\t\t\t\t\t\tactive: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonPath: '/static/fabIcon/person.png',\r\n\t\t\t\t\t\tselectedIconPath: '/static/fabIcon/personHL.png',\r\n\t\t\t\t\t\ttext: '邀请成员',\r\n\t\t\t\t\t\tactive: true\r\n\t\t\t\t\t}\r\n\t\t\t\t], // 展开菜单配置项\r\n\t\t\t\t\r\n\t\t\t\tshowModalF : null ,\t// 弹出Modal的方法\r\n\t\t\t\t// 系统数据相关\r\n\t\t\t\tUserId : this.global.login.getUserId(),\t// 获取当前UserId\r\n\t\t\t\tToken: this.global.login.getToken(), // 当前Token\r\n\t\t\t\tMchId: organ.getIndustryId(), // 获取当前组织（默认当前的组织值为1）\r\n\t\t\t\tcurrentList :[],\t\t\t // 组织列表\r\n\t\t\t\ttype : '',\t\t\t\t\t// 请求类型  Merchant：商户、Organization ： 部门 、Area ： 区域 、Staff ： 员工\r\n\t\t\t\tvalue : 0 ,\t\t\t\t\t// 请求值\r\n\t\t\t\tcurrentOrgName : '',\t\t// 当前商户/组织/分店名称\r\n\t\t\t\tGuid : null,\t\t\t\t// 获取GuidId\r\n\t\t\t\tclickOrgId : 0 ,\t\t\t// 当前点击的部门Id（添加/编辑部门）\r\n\t\t\t\tisEdit : false,\t\t\t\t// 是否处于编辑状态（添加/编辑部门）\r\n\t\t\t\tshowdepartmentM : false,\t\t// 是否显示部门 (添加/编辑部门)\r\n\t\t\t\tshowdepartmentMF : null,\t// 显示部门的传值方法（添加/编辑部门）\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad:function(options){\r\n\t\t\t_self = this;\r\n\t\t\tthis.isLoginShow = true;\r\n\t\t\tthis.getParams(options);\r\n\t\t\tthis.fullOrg_request(this.type , this.value);\t\t// 加载完整组织架构\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// ========================================= 初始化时间 ====================================================\r\n\t\t\t/** 获取当前参数\r\n\t\t\t * @param {Object} options\r\n\t\t\t */\r\n\t\t\tgetParams : function(options){\r\n\t\t\t\tthis.preview = options.preview != 'false' ? options.preview : false;\t\t// 可返回上一页\r\n\t\t\t\tthis.forceIndex = options.forceIndex ? options.forceIndex : false;\r\n\t\t\t\tthis.Guid = options.Guid ? options.Guid : null;\t\t\t// 获取Guid值，用于多次加载\r\n\t\t\t\tthis.type = options.type ? options.type : 'Merchant';\t// 请求类型\r\n\t\t\t\tthis.value = options.value ? options.value : this.MchId;\t// 请求值\r\n\t\t\t\tthis.currentOrgName = options.Name ? options.Name : organ.getName();\t// 当前组织名称\r\n\t\t\t},\r\n\t\t\t// ========================================= 监听事件 ====================================================\r\n\t\t\t/**关闭当前页面(关闭所有页面，并打开组织管理页面)\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tclose : function(e){\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl:'/pages/index/index'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 打开编辑部门页面\r\n\t\t\t * @param {Object} e \r\n\t\t\t */\r\n\t\t\teditDepartment : function(item){\r\n\t\t\t\tthis.reloadDepartment(true , item.Value);\t\t// 重新渲染组件\r\n\t\t\t},\r\n\t\t\t/** 删除当前部门\r\n\t\t\t * @param {Object} item\r\n\t\t\t */\r\n\t\t\tdeleteDepartment : function(item){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'删除部门',\r\n\t\t\t\t\tcontent:'是否删除当前部门？',\r\n\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\tif(result.confirm){\r\n\t\t\t\t\t\t\t_self.organizationDelete_request(item.Value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 点击悬浮按钮\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\ttrigger : function(e) {\r\n\t\t\t\tswitch (e.index) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t// 重新打开Modal(添加部门)\r\n\t\t\t\t\t\tthis.reloadDepartment(false);\t\t// 重新渲染组件\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t// 弹出邀请新成员\r\n\t\t\t\t\t\tthis.showModalF();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/** 打开添加部门页面\r\n\t\t\t * @param {Object} func\r\n\t\t\t */\r\n\t\t\tshowModalDepartment : function(func){\r\n\t\t\t\tthis.showdepartmentMF = func;\r\n\t\t\t},\r\n\t\t\t/** 打开邀请成员页面\r\n\t\t\t * @param {function} func \r\n\t\t\t */\r\n\t\t\tshowModal : function(func){\r\n\t\t\t\tthis.showModalF = func;\r\n\t\t\t},\r\n\t\t\t// =================================== 公共方法 ==============================================================\r\n\t\t\t/**\r\n\t\t\t * 重新渲染添加/编辑部门组件\r\n\t\t\t * @param {type} isEdit 是否编辑状态\r\n\t\t\t * @param {Number}  orgId 部门id\r\n\t\t\t */\r\n\t\t\treloadDepartment : function(isEdit , orgId = 0)  {\r\n\t\t\t\t_self.isEdit = isEdit;\r\n\t\t\t\t_self.clickOrgId = orgId\r\n\t\t\t\t_self.showdepartmentM = false;\r\n\t\t\t\t_self.$nextTick(() => {\r\n\t\t\t\t\t_self.showdepartmentM = true;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//==================================== 请求方法 ===============================================================\r\n\t\t\t/**\r\n\t\t\t * 当前/完整组织架构\r\n\t\t\t * @param {String} type 类型 Merchant/Organization/Area/Staff\r\n\t\t\t * @param {Number} value 对应的id值\r\n\t\t\t * @param {Boolean}  loadMch 是否加载门店列表（默认True）\r\n\t\t\t * @param {Boolean}  loadStaff 是否加载员工列表     \r\n\t\t\t */\r\n\t\t\tfullOrg_request : function(type , value , loadMch = true , loadStaff = true){\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:_self.website +  '/api/SvcOrganization/GetOrgs?type=' + type + '&value=' + value + '&loadMch=' + loadMch + '&loadStaff=' + loadStaff,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + _self.Token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif(result.statusCode == 200){\r\n\t\t\t\t\t\t\tif(result.data.ResultCode == \"0\"){\r\n\t\t\t\t\t\t\t\tvar data = result.data.Data;\r\n\t\t\t\t\t\t\t\t_self.currentList = data;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\tconsole.log(\"返回数据成功\",result);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function(errors){\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.log(\"数据加载出错\",erros);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 删除部门请求\r\n\t\t\t * @param {Object} orgId 部门id\r\n\t\t\t */\r\n\t\t\torganizationDelete_request : function(orgId){\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl : _self.website + '/api/SvcOrganization/Delete/' + orgId,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\tAuthorization: 'Bearer ' + _self.Token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif(result.statusCode == 200){\r\n\t\t\t\t\t\t\tif(result.data.ResultCode == \"0\" && result.data.Data){\r\n\t\t\t\t\t\t\t\t_self. fullOrg_request(_self.type , _self.value);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(\"success=>\" , result);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除失败！',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function(errors){\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.log(\"fail=>\",errors );\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除失败！',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t//==========================================================================================================\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":""}