{"version":3,"sources":["uni-app:///main.js","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/repair-order/repair-order/customer/detail.vue?85c6","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/repair-order/repair-order/customer/detail.vue?d436","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/repair-order/repair-order/customer/detail.vue?e0a8","webpack:///D:/MyRepository/EasySmartData/code/AftersveClientApp/pages/repair-order/repair-order/customer/detail.vue?cd3f","uni-app:///pages/repair-order/repair-order/customer/detail.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4H;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC6L;AAC7L,gBAAgB,2LAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAquB,CAAgB,srBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6FzvB;;;;;;AAMA,U;AACA;AACA,MADA,kBACA;AACA;AACA;AACA,oBAFA,EAEA;AACA,cAHA,EAGA;AACA;AACA,gBALA,EAKA;AACA,iBANA,EAMA;AACA,0BAPA,EAOA;AACA,gBARA,EAQA;AACA,yBATA,EASA;AACA,sBAVA,EAUA;AACA,uBAXA,EAWA;AACA,oBAZA,EAYA;AACA,2BAbA,EAaA;;AAEA;AACA,uBADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,sBAJA,CAfA;AAoBA;AACA;AACA,qBADA;AAEA,qBAFA,CArBA;AAwBA;AACA;AACA;AACA,2DADA;AAEA,sFAFA;AAGA,mDAHA;AAIA,oDAJA;AAKA,mDALA;AAMA,mDANA,CA1BA;;AAkCA,oBAlCA,CAkCA;AAlCA;AAoCA,GAtCA;AAuCA;AACA;AACA,4BAFA,CAEA;AACA,gBAHA,CAGA;AACA,GA3CA;AA4CA;AACA;AACA;;;AAGA;AACA,qFADA,CACA;AACA;AACA;AACA;AACA,OAFA,CAEA;AACA;AACA;AACA,KAbA;AAcA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA;AACA;AACA;AACA,kCAHA,CAGA;AACA,yCAJA,CAIA;AACA,qCALA,CAKA;AACA,mCANA,CAMA;AACA;AACA,OAXA,EAWA;AACA;AACA;AACA,OAdA,EAcA,IAdA;AAeA;AACA;AACA;AACA;AACA,OAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WARA;AASA;AACA,OApBA,EAoBA;AACA;AACA;AACA,OAvBA,EAuBA,IAvBA;AAwBA,KA3DA;AA4DA;AACA;;;AAGA;AACA;AACA,sBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,EAIA;AACA;AACA;AACA;AACA;AACA,kCADA;;AAGA;AACA;AACA;AACA,kEADA;;AAGA,iBAJA,EAIA,IAJA;AAKA,eAVA,MAUA;AACA;AACA,uCADA;AAEA,8BAFA;;AAIA;AACA,aAvBA,EAuBA;AACA;AACA;AACA,aA1BA;AA2BA;AACA,SAjCA;;AAmCA,KApGA;AAqGA;;;AAGA;AACA;AACA,mBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,EAIA;AACA;AACA;AACA;AACA;AACA,gCADA;;AAGA;AACA;AACA,+BADA,CACA;AACA,iBAFA,EAEA,IAFA;AAGA,eARA,MAQA;AACA;AACA,uCADA;AAEA,8BAFA;;AAIA;AACA,aArBA,EAqBA;AACA;AACA;AACA,aAxBA;AAyBA;AACA,SA/BA;;AAiCA;AACA;AA3IA,GA5CA,E","file":"pages/repair-order/repair-order/customer/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/repair-order/repair-order/customer/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=68a6a0d9&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/repair-order/repair-order/customer/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=68a6a0d9&\"","var components\ntry {\n  components = {\n    isLogin: function() {\n      return import(\n        /* webpackChunkName: \"components/is-login/is-login\" */ \"@/components/is-login/is-login.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    uniDateformat: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat\" */ \"@/uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.vue\"\n      )\n    },\n    luyjSteps: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/luyj-steps/components/luyj-steps/luyj-steps\" */ \"@/uni_modules/luyj-steps/components/luyj-steps/luyj-steps.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = Boolean(_vm.currentOrder.ProductSn)\n  var m1 = Boolean(_vm.currentOrder.ProductName)\n  var m2 = Boolean(_vm.currentOrder.CategoryName)\n  var m3 = Boolean(_vm.currentOrder.Model)\n  var m4 = Boolean(_vm.currentOrder.SvcLinkTel)\n  var m5 = Boolean(_vm.currentOrder.AddUserTel)\n  var m6 = Boolean(_vm.currentOrder.CreateAt)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex flex-direction\">\r\n\t\t<!-- 是否登录判断 -->\r\n\t\t<is-login currentPage=\"index\"></is-login>\r\n\t\t<!-- 标题 -->\r\n\t\t<cu-custom bgColor=\"bg-cyan\" :isBack=\"preview\" >\r\n\t\t\t<block slot=\"content\">工单跟踪</block>\r\n\t\t</cu-custom>\r\n\t\t<!-- 工单主要信息 -->\r\n\t\t<!-- 工单信息跳转：暂时传递Disable值，令工单不可编辑 -->\r\n\t\t<navigator class=\"cf bg-cyan padding\" :url=\"'/pages/repair-order/repair/repair?preview=true&OrderId=' + OrderId + '&Disable=true'\">\r\n\t\t\t<!-- 工单是否加载中 -->\r\n\t\t\t<uni-load-more v-if=\"loadingStatus === 'noMore' \" color=\"#FFFFFF\" :status=\"loadingStatus\" @clickLoadMore=\"init\"></uni-load-more>\r\n\t\t\t<!-- 工单内容 -->\r\n\t\t\t<view class=\"fl text-lg\" style=\"width: 80%;color: #EEEEEE;\" >\r\n\t\t\t\t<!-- 设备 ： SN报修订单适用 -->\r\n\t\t\t\t<view v-if=\"OrderType === 'SnOrder' & Boolean(currentOrder.ProductSn) \" class=\"text-cut padding-xs \">\r\n\t\t\t\t\t<text class=\"text-bold text-white margin-right\">设备SN:</text>\r\n\t\t\t\t\t<text>{{ currentOrder.ProductSn }}</text> \r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 设备名称： SN报修订单适用 -->\r\n\t\t\t\t<view v-if=\"OrderType === 'SnOrder' & Boolean(currentOrder.ProductName ) \"  class=\"text-cut padding-xs \"> \r\n\t\t\t\t\t<text class=\"text-bold text-white margin-right\">设备名称:</text>\r\n\t\t\t\t\t<text>{{ currentOrder.ProductName }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"Boolean(currentOrder.CategoryName)\" class=\"text-cut padding-xs \"> \r\n\t\t\t\t\t<text class=\"text-bold text-white margin-right\">分类:</text>\r\n\t\t\t\t\t<text>{{ currentOrder.CategoryName }}</text>\r\n\t\t\t\t </view>\r\n\t\t\t\t <view v-if=\"Boolean(currentOrder.Model)\" class=\"text-cut padding-xs \">\r\n\t\t\t\t \t<text class=\"text-bold text-white margin-right\">型号:</text>\r\n\t\t\t\t \t<text>{{ currentOrder.Model }}</text>\r\n\t\t\t\t  </view>\r\n\t\t\t\t  <!-- 不存在服务商名称 -->\r\n\t\t\t\t  <view  v-if=\"OrderType === 'SnOrder' & Boolean(currentOrder.SvcLinkTel)\" class=\"text-cut padding-xs \">\r\n\t\t\t\t  \t<text class=\"text-bold text-white margin-right\">服务商:</text>\r\n\t\t\t\t  \t<text>{{ currentOrder.SvcMchName }}({{ currentOrder.SvcLinkTel }})</text>\r\n\t\t\t\t   </view>\r\n\t\t\t\t <view v-if=\"Boolean(currentOrder.AddUserTel)\" class=\"text-cut padding-xs \">\r\n\t\t\t\t \t<text class=\"text-bold text-white margin-right\">提交人:</text>\r\n\t\t\t\t \t<text>{{ currentOrder.AddUserName }}({{ currentOrder.AddUserTel }})</text>\r\n\t\t\t\t  </view>\r\n\t\t\t\t<view v-if=\"Boolean(currentOrder.CreateAt)\" class=\"text-cut padding-xs \">\r\n\t\t\t\t\t<text class=\"text-bold text-white margin-right\">提交时间:</text>\r\n\t\t\t\t\t<uni-dateformat format=\"yyyy-MM-dd hh:mm:ss\" :date=\"currentOrder.CreateAt\"></uni-dateformat>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"fr flex  justify-center \" style=\"width: 20%;\">\r\n\t\t\t\t<!-- 没有真居中，样式可能存在问题 -->\r\n\t\t\t\t<view class=\"text-xxl \" :class=\"type == 'sn' ? 'padding-tb-xl margin-top-xl' : 'padding-tb-xl'\">\r\n\t\t\t\t\t<text class=\"cuIcon cuIcon-right text-center \"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</navigator>\r\n\t\t<!-- 步骤条 -->\r\n\t\t<view class=\"bg-white padding\">\r\n\t\t\t<!-- 正常工单步骤或取消工单 -->\r\n\t\t\t<luyj-steps :options=\" steps0\"   active=\"0\" activeColor=\"#00BEB7\"></luyj-steps>\r\n\t\t</view>\r\n\t\t<!-- 报障详情-步骤条 -->\r\n\t\t<view class=\"cu-bar bg-white margin-top-sm solid-bottom\">\r\n\t\t\t<view class=\"action text-bold\">\r\n\t\t\t\t报障详情\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<button class=\"bg-cyan cu-btn padding-lr-xl\" open-type=\"contact\" >协作沟通</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bg-white padding\">\r\n\t\t\t<luyj-steps :options=\"logs_steps\" direction=\"column\" :columnLine=\"false\" active=\"4\" activeColor=\"#00BEB7\"></luyj-steps>\r\n\t\t</view>\r\n\t\t<view class=\"cf padding bg-white\">\r\n\t\t\t<!-- 再次报障 :已完成，且报障类型为Sn报障-->\r\n\t\t\t<navigator v-if=\"Status === 'Finished' & OrderType === 'SnOrder'\" class=\"fr margin-left\" :url=\"'/pages/repair-order/repair/repair?preview=true&ProductSn=' + currentOrder.ProductSn\" >\r\n\t\t\t\t<button class=\"cu-btn bg-brown\">再次报障</button>\r\n\t\t\t</navigator>\r\n\t\t\t<!-- 评价 : 已完成-->\r\n\t\t\t<navigator v-if=\"Status === 'Finished'\" class=\"fr margin-left\" :url=\"'/pages/repair-order/repair-order/customer/rateorder?preview=true&OrderId=' + OrderId \">\r\n\t\t\t\t<button class=\"cu-btn bg-orange padding-lr\">评价</button>\r\n\t\t\t</navigator>\r\n\t\t\t<!-- 验收 : 待验收 -->\r\n\t\t\t<view v-if=\"Status === 'Uncheck'\" class=\"fr margin-left\" @tap=\"validationOrder\">\r\n\t\t\t\t<button class=\"cu-btn bg-cyan padding-lr\">验收</button>\r\n\t\t\t</view>\r\n\t\t\t<!-- 取消工单 : 待受理 -->\r\n\t\t\t<view v-if=\"Status === 'Unprocessed'\" class=\"fr margin-left\" @tap=\"cancelOrder\">\r\n\t\t\t\t<button class=\"cu-btn bg-grey\">取消工单</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * 工单跟踪\r\n\t * @author 陆彦捷\r\n\t * @date 2021.07.09 工单跟踪初始化页面完成\r\n\t * @date 2021.07.23 工单基础信息完善\r\n\t */\r\n\tvar _self;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 样式有关参数\r\n\t\t\t\tpreview : false,\t\t\t// 是否返回上一页\r\n\t\t\t\tstep : -1 ,\t\t\t\t\t// 步骤 -1 已取消 0 提交 \t1.已确认 2.处理中 3.待验收 4. 已完成 \r\n\t\t\t\t// 系统有关参数\r\n\t\t\t\tOrderId: 0 ,\t\t\t\t// 当前工单Id\r\n\t\t\t\tOrderNo : \"\",\t\t\t\t// 工单号\r\n\t\t\t\tOrderType: 'SnOrder',\t\t// 工单类型\r\n\t\t\t\tStatus: '',\t\t\t\t\t// 工单状态\r\n\t\t\t\torderLoading : false ,\t\t// 是否工单加载中\r\n\t\t\t\tcurrentOrder :{},\t\t\t// 当前工单值\r\n\t\t\t\tlogLoading : false,\t\t\t// 是否工单Log加载中\r\n\t\t\t\tcurrentLog :[],\t\t\t\t// 当前的工单Log\r\n\t\t\t\tloadingStatus : 'more',\t\t// 数据是否加载中\r\n\t\t\t\t\r\n\t\t\t\tsteps0:[\r\n\t\t\t\t\t{title:'提交工单' },\r\n\t\t\t\t\t{title:'受理工单'},\r\n\t\t\t\t\t{title:'工单处理中' },\r\n\t\t\t\t\t{title:'已完成' },\r\n\t\t\t\t],\t\t\t\t\t// 步骤条1 完成的步骤提交\r\n\t\t\t\tsteps1:[\r\n\t\t\t\t\t{title:'提交' },\r\n\t\t\t\t\t{title:'取消' },\r\n\t\t\t\t],\t\t\t\t\t// 取消的步骤条\r\n\t\t\t\t// 纵向的排列（暂时不考虑分别）\r\n\t\t\t\tcolumn_steps:[\r\n\t\t\t\t\t{title:'报障工单提交,等待处理' ,desc:'2021-04-01 12:00:00'},\r\n\t\t\t\t\t{title:'工单已派件' ,desc:'维修人 李先生 1585898133\\n 维修方式：现场服务\\n 2021-04-01 12:00:00'},\r\n\t\t\t\t\t{title:'处理中' ,desc:'2021-04-01 12:00:00'},\r\n\t\t\t\t\t{title:'其他情况' ,desc:'2021-04-01 12:00:00'},\r\n\t\t\t\t\t{title:'已验收' ,desc:'2021-04-01 12:00:00'},\r\n\t\t\t\t\t{title:'已评价' ,desc:'2021-04-01 12:00:00'},\r\n\t\t\t\t],\r\n\t\t\t\tlogs_steps:[] , \t\t// 报障详情步骤条\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad:function(options){\r\n\t\t\t_self = this;\r\n\t\t\tthis.getParams(options);\t\t// 获取当前参数\r\n\t\t\tthis.init();\t\t\t\t\t// 获取初始化信息\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// ================================================= 初始化方法 ==========================================================\r\n\t\t\t/** 获取当前页面的参数\r\n\t\t\t * @param {Object} options\r\n\t\t\t */\r\n\t\t\tgetParams : function(options){\r\n\t\t\t\tthis.preview = options.preview != 'false' ? Boolean(options.preview) :'false';\t\t\t// 是否返回上一页\r\n\t\t\t\t// 订单Id\r\n\t\t\t\ttry{\r\n\t\t\t\t\tthis.OrderId = Boolean(options.OrderId) ? parseInt(options.OrderId) : 0;\r\n\t\t\t\t}catch(e){\r\n\t\t\t\t\tthis.OrderId = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 初始化方法\r\n\t\t\t */\r\n\t\t\tinit : function(){\r\n\t\t\t\t// 获取工单信息\r\n\t\t\t\tthis.global.repairOrderR.orderByOrderId_request(this.OrderId , function(){\r\n\t\t\t\t\t// 请求前执行方法\r\n\t\t\t\t\t_self.orderLoading = true;\r\n\t\t\t\t},function(data){\r\n\t\t\t\t\t// 请求成功后方法\r\n\t\t\t\t\t_self.orderLoading = false;\r\n\t\t\t\t\t_self.currentOrder = data;\t\t// 工单信息\r\n\t\t\t\t\t_self.OrderType = data.OrderType;\t// 工单类型\r\n\t\t\t\t\t_self.OrderNo = data.OrderNo;\t\t// 获取工单号\r\n\t\t\t\t\t_self.Status = data.Status;\t\t\t// 工单状态\r\n\t\t\t\t\tconsole.log(\"工单状态=>\", _self.Status );\r\n\t\t\t\t},function(errors){\r\n\t\t\t\t\t_self.orderLoading = false;\r\n\t\t\t\t\t// 请求失败后方法\r\n\t\t\t\t},null);\r\n\t\t\t\t// 获取工单跟踪信息\r\n\t\t\t\tthis.global.repairOrderR.orderLogByOrderId_request(this.OrderId , function(){\r\n\t\t\t\t\t// 请求前执行方法\r\n\t\t\t\t\t_self.logLoading = true;\r\n\t\t\t\t}, function(data){\r\n\t\t\t\t\t// 请求成功后方法\r\n\t\t\t\t\t_self.logLoading = false;\r\n\t\t\t\t\t_self.currentLog = data;\r\n\t\t\t\t\t// 工单转换为步骤条\r\n\t\t\t\t\t_self.logs_steps  = [];\r\n\t\t\t\t\tif(Boolean(data)){\r\n\t\t\t\t\t\tdata.forEach(item=>{\r\n\t\t\t\t\t\t\tvar title = item.Msg;\r\n\t\t\t\t\t\t\tvar desc = \"\";\r\n\t\t\t\t\t\t\tif(Boolean(item.LinkMan)){\r\n\t\t\t\t\t\t\t\tdesc = '联系人:' + item.LinkMan + (Boolean(item.LinkTel) ? '(' + item.LinkTel + ')':'') + '\\n';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdesc += new Date( item.CreateAt).toLocaleString() + '\\n';\r\n\t\t\t\t\t\t\t_self.logs_steps.push({'title' : title , 'desc' : desc});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, function(errors){\r\n\t\t\t\t\t// 请求失败后方法\r\n\t\t\t\t\t_self.logLoading = false;\r\n\t\t\t\t},null);\r\n\t\t\t},\r\n\t\t\t// ================================================= 监听事件 ============================================================\r\n\t\t\t/** 取消工单\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tcancelOrder : function(e){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'取消工单？',\r\n\t\t\t\t\tcontent:'是否取消工单？'\t,\r\n\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\tif(result.confirm){\r\n\t\t\t\t\t\t\tthis.global.repairOrderR.orderCancel_request(this.OrderId ,\r\n\t\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\t\t// 请求前执行方法\r\n\t\t\t\t\t\t\t\tuni.showLoading();\r\n\t\t\t\t\t\t\t} , function(data){\r\n\t\t\t\t\t\t\t\t// 请求成功后执行方法\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tif(Boolean(data.Data)){\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'工单取消成功!'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t// 跳转到工单页\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '/pages/index/index?PageCur=repair_order'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} , 3000);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: data.ResultMsg,\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},function(errors){\r\n\t\t\t\t\t\t\t\t// 请求失败后执行方法\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/** 验收\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\tvalidationOrder : function(e){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'验收',\r\n\t\t\t\t\tcontent:'是否完成验收？',\r\n\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\tif(result.confirm){\r\n\t\t\t\t\t\t\tthis.global.repairOrderR.orderCancel_request(this.OrderId ,\r\n\t\t\t\t\t\t\tfunction(){\r\n\t\t\t\t\t\t\t\t// 请求前执行方法\r\n\t\t\t\t\t\t\t\tuni.showLoading();\r\n\t\t\t\t\t\t\t} , function(data){\r\n\t\t\t\t\t\t\t\t// 请求成功后执行方法\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tif(Boolean(data.Data)){\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'验收完成!'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t// 刷新当前数据\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\t\t\t_self.init();\t\t// 刷新当前数据\r\n\t\t\t\t\t\t\t\t\t} , 3000);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: data.ResultMsg,\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},function(errors){\r\n\t\t\t\t\t\t\t\t// 请求失败后执行方法\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// ======================================================================================================================\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":""}